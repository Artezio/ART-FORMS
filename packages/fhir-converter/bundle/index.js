!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=56)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(60))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP="GROUP",t.DISPLAY="DISPLAY",t.BOOLEAN="BOOLEAN",t.DECIMAL="DECIMAL",t.DATE="DATE",t.DATE_TIME="DATE_TIME",t.TIME="TIME",t.TEXT="TEXT",t.CHOICE="CHOICE",t.OPEN_CHOICE="OPEN_CHOICE",t.MULTI_CHOICE="MULTI_CHOICE",t.ATTACHMENT="ATTACHMENT",t.STRING="STRING"},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),a=s(r(5)),u=s(r(19));class l extends a.default{constructor(e,t){super(e,t),this.initialAnswerIdMap=new Map,this.initialAnswersFactory=new u.default(this),this.completeInitialAnswers(e),this.initialAnswers.forEach(e=>this.initialAnswerIdMap.set(e.id,!0))}completeInitialAnswers(e){e&&e.initialAnswers?this.initialAnswers=e.initialAnswers.map(e=>this.initialAnswersFactory.createInitialAnswer(e)):this.initialAnswers=[]}setSingleInitialAnswer(e){this.initialAnswers=[e],this.initialAnswerIdMap.clear(),this.initialAnswerIdMap.set(e.id,!0)}addInitialAnswer(e){this.initialAnswerIdMap.has(e.id)||(this.initialAnswers.push(e),this.initialAnswerIdMap.set(e.id,!0))}clearInitialAnswers(){this.initialAnswers=[],this.initialAnswerIdMap.clear()}removeInitialAnswer(e){this.initialAnswers.splice(e.position,1),this.initialAnswerIdMap.delete(e.id)}}i([o.observableProperty,n("design:type",Array)],l.prototype,"initialAnswers",void 0),t.QuestionItem=l,t.default=l},function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r(1)),i(r(11)),i(r(12)),i(r(13)),i(r(14)),i(r(5)),i(r(16)),i(r(2)),i(r(27)),i(r(21)),i(r(30)),i(r(25)),i(r(26)),i(r(23)),i(r(28)),i(r(22)),i(r(18)),i(r(24)),i(r(31)),i(r(62)),i(r(63)),i(r(33)),i(r(35)),i(r(20)),i(r(29)),i(r(17)),i(r(34)),i(r(19)),i(r(6)),i(r(9)),i(r(15)),i(r(8)),i(r(36)),i(r(38)),i(r(37))},function(e,t,r){var i,n,s=r(58),o=r(59),a=0,u=0;e.exports=function(e,t,r){var l=t&&r||0,c=t||[],d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==f){var p=s();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=n=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,y=h-a+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||h>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,u=m,n=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var _=h/4294967296*1e4&268435455;c[l++]=_>>>8&255,c[l++]=255&_,c[l++]=_>>>24&15|16,c[l++]=_>>>16&255,c[l++]=f>>>8|128,c[l++]=255&f;for(var b=0;b<6;++b)c[l+b]=d[b];return t||o(c)}},function(e,t,r){"use strict";var i,n=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),u=o(r(4)),l=r(11),c=o(r(15)),d=r(1);let f=i=class{constructor(e,t){this.type=d.DISPLAY,this.enableWhenIdMap=new Map,this.enableWhenFactory=new c.default(this),this.id=e&&e.id||u.default(),this.required=!!e&&!!e.required,this.text=e&&e.text,this.enableWhen=e&&e.enableWhen?e.enableWhen.map(e=>this.enableWhenFactory.createEnableWhen(e)):[],this.enableBehavior=e&&e.enableBehavior?e.enableBehavior:l.AND,this.parent=t,this.enableWhen.forEach(e=>this.enableWhenIdMap.set(e.id,!0)),this._definePrototypeProperties()}_definePrototypeProperties(){Object.defineProperty(i.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.items.find((t,r)=>{if(t.id===this.id)return e=r,!0}),e}})}addEnableWhen(e){this.enableWhenIdMap.has(e.id)||(this.enableWhen.push(e),this.enableWhenIdMap.set(e.id,!0))}removeEnableWhen(e){let t;this.enableWhen.find((r,i)=>{if(r.id===e.id)return t=i,!0}),void 0!==t&&(this.enableWhen.splice(t,1),this.enableWhenIdMap.delete(e.id))}updateItem(e){const t=a.getObservable(e);t&&t.mute(),this.id=e.id,this.text=e.text,this.required=!!e.required,t&&t.unmute(),t&&t.emitChange()}remove(){this.parent&&this.parent.removeItem(this)}replace(e){this.parent&&this.parent.replaceItem(this,e)}};n([a.observableProperty,s("design:type",Array)],f.prototype,"enableWhen",void 0),f=i=n([a.observable,s("design:paramtypes",[Object,Object])],f),t.Item=f,t.default=f},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(29));class s{constructor(e){this.parent=e}createAnswerOption(e){return new n.default(e,this.parent)}}t.AnswerOptionFactory=s,t.default=s},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(54)),s=i(r(55));t.questionnaireResponseItemConverter={toModel:e=>({id:e.id,text:e.text,questionId:e.linkId,items:e.item&&e.item.map(e=>t.questionnaireResponseItemConverter.toModel(e)),answers:e.answer&&e.answer.map(e=>n.default(e))}),fromModel:e=>({id:e.id,linkId:e.questionId,text:e.text,answer:e.answers&&e.answers.map(e=>s.default(e)),item:e.items&&e.items.map(e=>t.questionnaireResponseItemConverter.fromModel(e))})},t.default=t.questionnaireResponseItemConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(17),n=r(1);class s{constructor(e){this.itemFactory=new i.ItemFactory(e)}createItem(e){switch(e.type){case n.ATTACHMENT:return this.itemFactory.createAttachmentItem(e);case n.BOOLEAN:return this.itemFactory.createBooleanItem(e);case n.CHOICE:return this.itemFactory.createChoiceItem(e);case n.DATE:return this.itemFactory.createDateItem(e);case n.DATE_TIME:return this.itemFactory.createDateTimeItem(e);case n.DECIMAL:return this.itemFactory.createDecimalItem(e);case n.DISPLAY:return this.itemFactory.createItem(e);case n.GROUP:return this.itemFactory.createGroupItem(e);case n.MULTI_CHOICE:return this.itemFactory.createMultiChoiceItem(e);case n.OPEN_CHOICE:return this.itemFactory.createOpenChoiceItem(e);case n.STRING:return this.itemFactory.createStringItem(e);case n.TEXT:return this.itemFactory.createTextItem(e);case n.TIME:return this.itemFactory.createTimeItem(e);default:return this.itemFactory.createItem(e)}}}t.ItemByTypeFactory=s,t.default=s},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(33),s=i(r(36)),o=i(r(37)),a=i(r(38)),u=r(1),l=i(r(65)),c=i(r(66));t.questionResponseFactory={createResponse:(e,t,r)=>{const i=[];switch(e.required&&i.push(l.default.required),e.type){case u.STRING:return i.push(l.default.stringRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.TEXT:return i.push(l.default.textRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.DECIMAL:return i.push(l.default.decimalRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.BOOLEAN:return i.push(l.default.booleanRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.DATE:return i.push(l.default.dateRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.TIME:return i.push(l.default.timeRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.DATE_TIME:return i.push(l.default.dateTimeRegExp),new n.QuestionnaireResponseItem(r,e,o.default,i,t);case u.CHOICE:case u.OPEN_CHOICE:return new n.QuestionnaireResponseItem(r,e,s.default,i,t);case u.MULTI_CHOICE:return new n.QuestionnaireResponseItem(r,e,a.default,i,t);case u.ATTACHMENT:return new n.QuestionnaireResponseItem(r,e,c.default,i,t);default:return new n.QuestionnaireResponseItem(r,e,void 0,i,t)}}},t.default=t.questionResponseFactory},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=r(39),o=r(41),a=r(44),u=r(46),l=r(47),c=r(48),d=r(49),f=r(50),p=r(52),h=r(53);t.questionnaireItemConverter={toModel:e=>({id:e.linkId,required:e.required,text:e.text,type:s.itemTypeToModelConverter(e.type,e.repeats),items:e.item&&e.item.map(e=>t.questionnaireItemConverter.toModel(e)),enableWhen:e.enableWhen&&e.enableWhen.map(e=>o.enableWhenToModelConverter(e)),enableBehavior:a.enableBehaviorToModelConverter(e.enableBehavior),initialAnswers:e.initial&&e.initial.map(e=>u.initialAnswerToModelConverter(e)),options:e.answerOption&&e.answerOption.map(e=>l.answerOptionToModelConverter(e)),multipleFiles:s.itemTypeToModelConverter(e.type,e.repeats)===n.ATTACHMENT&&e.repeats}),fromModel:e=>({linkId:e.id,required:e.required,text:e.text,type:c.itemTypeFromModelConverter(e.type),repeats:e.type===n.MULTI_CHOICE||e.multipleFiles,item:e.items&&e.items.map(e=>t.questionnaireItemConverter.fromModel(e)),enableWhen:e.enableWhen&&e.enableWhen.map(e=>f.enableWhenFromModelConverter(e)),enableBehavior:d.enableBehaviorFromModelConverter(e.enableBehavior),initial:e.initialAnswers&&e.initialAnswers.map(t=>h.initialAnswerFromModelConverter(t,e.type)),answerOption:e.options&&e.options.map(e=>p.answerOptionFromModelConverter(e))})},t.default=t.questionnaireItemConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AND="and",t.OR="or"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTS="EXISTS",t.EQUAL="==",t.NOT_EQUAL="!=",t.MORE=">",t.LESS="<",t.MORE_OR_EQUAL=">=",t.LESS_OR_EQUAL="<="},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUIRED="Question is required",t.REG_EXP="Invalid input"},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),s=i(r(4));class o{constructor(e,t){this.id=e&&e.id||s.default(),this.questionId=e&&e.questionId,this.operator=e&&e.operator||n.EQUAL,this.answer=e&&e.answer,this.parent=t}remove(){this.parent&&this.parent.removeEnableWhen(this)}}t.EnableWhen=o,t.default=o},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(14));class s{constructor(e){this.parent=e}createEnableWhen(e){return new n.default(e,this.parent)}}t.EnableWhenFactory=s,t.default=s},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),a=s(r(8)),u=s(r(5)),l=r(1);let c=class extends u.default{constructor(e,t){super(e,t),this.type=l.GROUP,this.itemIdMap=new Map,this.itemByTypeFactory=new a.default(this),this.completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const r=e.position;this.items.splice(r,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};i([o.observableProperty,n("design:type",Array)],c.prototype,"items",void 0),c=i([o.observable,n("design:paramtypes",[Object,Object])],c),t.GroupItem=c,t.default=c},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(18)),s=i(r(21)),o=i(r(5)),a=i(r(16)),u=i(r(22)),l=i(r(23)),c=i(r(24)),d=i(r(25)),f=i(r(26)),p=i(r(27)),h=i(r(28)),m=i(r(30)),y=i(r(31));class v{constructor(e){this.parent=e}createItem(e){return new o.default(e,this.parent)}createGroupItem(e){return new a.default(e,this.parent)}createTextItem(e){return new n.default(e,this.parent)}createStringItem(e){return new u.default(e,this.parent)}createDecimalItem(e){return new l.default(e,this.parent)}createBooleanItem(e){return new s.default(e,this.parent)}createTimeItem(e){return new c.default(e,this.parent)}createDateItem(e){return new d.default(e,this.parent)}createDateTimeItem(e){return new f.default(e,this.parent)}createAttachmentItem(e){return new p.default(e,this.parent)}createChoiceItem(e){return new m.default(e,this.parent)}createOpenChoiceItem(e){return new h.default(e,this.parent)}createMultiChoiceItem(e){return new y.default(e,this.parent)}}t.ItemFactory=v,t.default=v},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),s=r(2);let o=class extends s.QuestionItem{constructor(){super(...arguments),this.type=n.TEXT}};o=i([r(0).observable],o),t.TextItem=o,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(20);class n{constructor(e){this.parent=e}createInitialAnswer(e){return new i.InitialAnswer(e,this.parent)}}t.InitialAnswerFactory=n,t.default=n},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});i(r(61));const n=i(r(4));class s{constructor(e,t){this.id=e&&e.id||n.default(),this.value=e&&e.value,this.parent=t,Object.defineProperty(s.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.initialAnswers.find((t,r)=>{if(t.id===this.id)return e=r,!0}),e}})}updateInitialAnswer(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeInitialAnswer(this)}}t.InitialAnswer=s},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),o=r(0),a=n(r(2));let u=class extends a.default{constructor(){super(...arguments),this.type=s.BOOLEAN}};u=i([o.observable],u),t.BooleanItem=u,t.default=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),s=r(2);let o=class extends s.QuestionItem{constructor(){super(...arguments),this.type=n.STRING}};o=i([r(0).observable],o),t.StringItem=o,t.default=o},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(1),o=r(0),a=n(r(2));let u=class extends a.default{constructor(){super(...arguments),this.type=s.DECIMAL}};u=i([o.observable],u),t.DecimalItem=u,t.default=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),o=n(r(2)),a=r(1);let u=class extends o.default{constructor(){super(...arguments),this.type=a.TIME}};u=i([s.observable],u),t.TimeItem=u,t.default=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),o=n(r(2)),a=r(1);let u=class extends o.default{constructor(){super(...arguments),this.type=a.DATE}};u=i([s.observable],u),t.DateItem=u,t.default=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),o=r(1),a=n(r(2));let u=class extends a.default{constructor(){super(...arguments),this.type=o.DATE_TIME}};u=i([s.observable],u),t.DateTimeItem=u,t.default=u},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),a=r(0),u=s(r(2));let l=class extends u.default{constructor(e,t){super(e,t),this.type=o.ATTACHMENT,this.multipleFiles=!(!e||!e.multipleFiles)}updateItem(e){const t=a.getObservable(e);t&&t.mute(),this.multipleFiles=e.multipleFiles,t&&t.unmute(),super.updateItem(e)}};l=i([a.observable,n("design:paramtypes",[Object,Object])],l),t.AttachmentItem=l,t.default=l},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),a=r(0),u=s(r(6)),l=s(r(2));let c=class extends l.default{constructor(e,t){super(e,t),this.type=o.OPEN_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new u.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}completeOptions(e){e&&e.options&&0!==e.options.length?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[this.answerOptionFactory.createAnswerOption()]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.splice(this.options.length-1,0,e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){e.position!==this.options.length-1&&(this.options.splice(e.position,1),this.optionIdMap.delete(e.id))}};i([a.observableProperty,n("design:type",Array)],c.prototype,"options",void 0),c=i([a.observable,n("design:paramtypes",[Object,Object])],c),t.OpenChoiceItem=c,t.default=c},function(e,t,r){"use strict";var i,n=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(r(4)),u=r(0);let l=i=class{constructor(e,t){this.id=e&&e.id||a.default(),this.value=e&&e.value,this.parent=t,this.defaultSelected=!!e&&!!e.defaultSelected,Object.defineProperty(i.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.options.find((t,r)=>{if(t.id===this.id)return e=r,!0}),e}})}selectAsDefault(){this.parent&&this.parent.selectDefaultOption(this)}unselectAsDefault(){this.parent&&this.parent.unselectDefaultOption(this)}updateAnswerOption(e){this.id=e.id,this.value=e.value}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswerOption(this)}};l=i=n([u.observable,s("design:paramtypes",[Object,Object])],l),t.AnswerOption=l,t.default=l},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),a=s(r(2)),u=r(1),l=s(r(6));let c=class extends a.default{constructor(e,t){super(e,t),this.type=u.CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new l.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}setSingleInitialAnswer(e){}addInitialAnswer(e){}clearInitialAnswers(){this.defaultOption&&(this.defaultOption.defaultSelected=!1)}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(this.defaultOption&&(this.defaultOption.defaultSelected=!1),this.defaultOption=t,this.defaultOption.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1,this.defaultOption=void 0)}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};i([o.observableProperty,n("design:type",Array)],c.prototype,"options",void 0),c=i([o.observable,n("design:paramtypes",[Object,Object])],c),t.ChoiceItem=c,t.default=c},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(r(2)),a=r(1),u=r(0),l=s(r(6));let c=class extends o.default{constructor(e,t){super(e,t),this.type=a.MULTI_CHOICE,this.optionIdMap=new Map,this.answerOptionFactory=new l.default(this),this.completeOptions(e),this.options.forEach(e=>this.optionIdMap.set(e.id,!0))}clearInitialAnswers(){this.options.forEach(e=>{e.defaultSelected=!1})}selectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!0)}unselectDefaultOption(e){const t=this.options.find(t=>t.id===e.id);t&&(t.defaultSelected=!1)}completeOptions(e){e&&e.options?this.options=e.options.map(e=>this.answerOptionFactory.createAnswerOption(e)):this.options=[]}addAnswerOption(e){this.optionIdMap.has(e.id)||(this.options.push(e),this.optionIdMap.set(e.id,!0))}removeAnswerOption(e){this.options.splice(e.position,1),this.optionIdMap.delete(e.id)}};i([u.observableProperty,n("design:type",Array)],c.prototype,"options",void 0),c=i([u.observable,n("design:paramtypes",[Object,Object])],c),t.MultiChoiceItem=c,t.default=c},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const s=r(0);let o=class{constructor(e){this.answers=e||[]}updateResponseAnswers(e,t){const r=s.getObservable(this);r&&r.mute(),this.answers=this.answers.filter(t=>t.parentId!==e),t.forEach(t=>{this.answers.push({parentId:e,value:t.value})}),r&&r.unmute(),r&&r.emitChange()}};i([s.observableProperty,n("design:type",Array)],o.prototype,"answers",void 0),o=i([s.observable,n("design:paramtypes",[Array])],o),t.AnswerCollection=o,t.default=o},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),a=s(r(4)),u=s(r(34)),l=s(r(32)),c=s(r(64)),d=s(r(9));let f=class{constructor(e,t,r,i,n){this.answerFactory=new u.default(this),this.errorMessages=[],this.isEnable=!0,this.itemIdMap=new Map,this.answerIdMap=new Map,this.id=e&&e.id||a.default(),this.questionId=t.id,this.text=t.text,this.answerCollection=n,this._fillAnswers(e,t),this._fillItems(e,t),this.validationRules=i,this.replyStrategy=r,this.questionItem=t,this.validate(),this.decideEnablingObservation(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers),this._defineOwnProperties(),this.items.forEach(e=>this.itemIdMap.set(e.id,!0)),this.answers.forEach(e=>this.answerIdMap.set(e.id,!0))}_fillAnswers(e,t){if(e&&e.answers)this.answers=e.answers.map(e=>this.answerFactory.createAnswer(e));else{const e=t.initialAnswers;e&&e.length?this.answers=e.map(e=>this.answerFactory.createAnswer(e)):t.options?this.answers=t.options.filter(e=>e.defaultSelected&&e).map(e=>this.answerFactory.createAnswer(e)):this.answers=[]}}_fillItems(e,t){t.items?this.items=t.items.map(t=>{const r=e&&e.items&&e.items.find(e=>e.questionId===t.id);return d.default.createResponse(t,this.answerCollection,r)}):this.items=[]}_defineOwnProperties(){Object.defineProperty(this,"isValid",{get(){return 0===this.errorMessages.length}})}decideEnablingObservation(){if(this.questionItem.enableWhen&&this.questionItem.enableWhen.length){const e=o.getObservable(this.answerCollection);e&&e.subscribe(this.evaluateEnableWhen.bind(this)),this.enableWhenQuestionIds=this.questionItem.enableWhen.reduce((e,t)=>(t.questionId&&t.operator&&void 0!==t.answer&&!e[t.questionId]&&(e[t.questionId]=!0),e),{})}}evaluateEnableWhen(e){if(void 0===this.questionItem.enableBehavior)return;const t=e.answers.filter(e=>this.enableWhenQuestionIds[e.parentId]),r=this.questionItem.enableWhen?this.questionItem.enableWhen.reduce((e,r)=>r.questionId&&r.operator&&r.answer?e.concat(t.filter(e=>e.parentId===r.questionId).some(e=>c.default.apply({[r.operator]:[""+e.value,""+r.answer]}))):e.concat(!0),[]):[];this.isEnable=c.default.apply({[this.questionItem.enableBehavior]:r})}setReplyStrategy(e){const t=o.getObservable(this);t&&t.mute(),this.replyStrategy=e,t&&t.unmute()}validate(){const e=[];this.validationRules.forEach(t=>{const r=t(this.answers[0]&&this.answers[0].value);r&&e.push(r)}),this.errorMessages=e}reply(e){if(!this.replyStrategy)return;const t=o.getObservable(this);t&&t.mute(),this.replyStrategy(e,this,this.answerFactory),this.validate(),t&&t.unmute(),t&&t.emitChange(),this.answerCollection.updateResponseAnswers(this.questionId,this.answers)}cancelAnswer(e){this.removeAnswer(e)}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponseItem(e){Object.assign(this,e)}setSingleAnswer(e){this.answers.splice(0,this.answers.length,e),this.answerIdMap.clear(),this.answerIdMap.set(e.id,!0)}addAnswer(e,t){this.itemIdMap.has(e.id)||(t=void 0===t?this.answers.length:t,this.answers.splice(t,0,e),this.answerIdMap.set(e.id,!0))}removeAnswer(e){this.answers.splice(e.position,1),this.answerIdMap.delete(e.id)}};i([o.observableProperty,n("design:type",Array)],f.prototype,"items",void 0),i([o.observableProperty,n("design:type",Array)],f.prototype,"answers",void 0),f=i([o.observable,n("design:paramtypes",[Object,Object,Function,Array,l.default])],f),t.QuestionnaireResponseItem=f,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(35);class n{constructor(e){this.parent=e}createAnswer(e){return new i.Answer(e,this.parent)}}t.AnswerFactory=n,t.default=n},function(e,t,r){"use strict";var i,n=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(r(4)),u=r(0);let l=i=class{constructor(e,t){this.itemIdMap=new Map,this.id=e&&e.id||a.default(),this.parent=t,this.items=[],this.value=e&&e.value,Object.defineProperty(i.prototype,"position",{enumerable:!0,configurable:!0,get(){if(!this.parent)return;let e;return this.parent.answers.find((t,r)=>{if(t.id===this.id)return e=r,!0}),e}}),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(this.items.push(e),this.itemIdMap.set(e.id,!0))}updateAnswer(e){Object.assign(this,e)}setValue(e){this.value=e}remove(){this.parent&&this.parent.removeAnswer(this)}};n([u.observableProperty,s("design:type",Array)],l.prototype,"items",void 0),l=i=n([u.observable,s("design:paramtypes",[Object,Object])],l),t.Answer=l,t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.choiceStrategy=(e,t,r)=>{const i=t.answers[0]||r.createAnswer(),n=t.questionItem.options.find(t=>t.id===e);n&&i.updateAnswer(Object.assign(Object.assign({},i),{id:n.id,value:n.value})),t.setSingleAnswer(i)},t.default=t.choiceStrategy},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textInputStrategy=(e,t,r)=>{if(t.answers[0]){const r=t.answers[0];""!==e&&void 0!==e?r.setValue(e):r.remove()}else if(""!==e&&void 0!==e){const i=r.createAnswer({value:e});t.setSingleAnswer(i)}},t.default=t.textInputStrategy},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiChoiceStrategy=(e,t,r)=>{const i=t.questionItem.options.find(t=>t.id===e);if(!i)return;const n=t.answers.find(e=>e.id===i.id);n?n.remove():t.addAnswer(r.createAnswer({id:i.id,value:i.value}))},t.default=t.multiChoiceStrategy},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=i(r(40));t.itemTypeToModelConverter=(e,t)=>{if(e===s.CHOICE&&t)return n.MULTI_CHOICE;switch(e){case s.GROUP:return n.GROUP;case s.DISPLAY:return n.DISPLAY;case s.BOOLEAN:return n.BOOLEAN;case s.ATTACHMENT:return n.ATTACHMENT;case s.CHOICE:return n.CHOICE;case s.DATE:return n.DATE;case s.DATE_TIME:return n.DATE_TIME;case s.DECIMAL:return n.DECIMAL;case s.OPEN_CHOICE:return n.OPEN_CHOICE;case s.STRING:return n.STRING;case s.TIME:return n.TIME;case s.TEXT:return n.TEXT;default:return n.DISPLAY}},t.default=t.itemTypeToModelConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP="group",t.DISPLAY="display",t.BOOLEAN="boolean",t.DECIMAL="decimal",t.DATE="date",t.DATE_TIME="dateTime",t.TIME="time",t.TEXT="text",t.CHOICE="choice",t.OPEN_CHOICE="open-choice",t.MULTI_CHOICE="multi-choice",t.ATTACHMENT="attachment",t.STRING="string"},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(42));t.enableWhenToModelConverter=e=>{return{id:e.id,questionId:e.question,answer:e.answerBoolean||e.answerDecimal||e.answerInteger||e.answerDate||e.answerDateTime||e.answerTime||e.answerString,operator:n.default(e.operator)}},t.default=t.enableWhenToModelConverter},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=i(r(43));t.operatorToModelConverter=e=>{switch(e){case s.EXISTS:return n.EXISTS;case s.EQUAL:return n.EQUAL;case s.LESS:return n.LESS;case s.LESS_OR_EQUAL:return n.LESS_OR_EQUAL;case s.MORE:return n.MORE;case s.MORE_OR_EQUAL:return n.MORE_OR_EQUAL;case s.NOT_EQUAL:return n.NOT_EQUAL;default:return n.EQUAL}},t.default=t.operatorToModelConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTS="exists",t.EQUAL="=",t.NOT_EQUAL="!=",t.MORE=">",t.LESS="<",t.MORE_OR_EQUAL=">=",t.LESS_OR_EQUAL="<="},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=r(45);t.enableBehaviorToModelConverter=e=>{switch(e){case s.ALL:return n.AND;case s.ANY:return n.OR;default:return n.AND}},t.default=t.enableBehaviorToModelConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL="all",t.ANY="any"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialAnswerToModelConverter=e=>{return{id:e.id,value:e.valueBoolean||e.valueDecimal||e.valueInteger||e.valueDate||e.valueDateTime||e.valueTime}},t.default=t.initialAnswerToModelConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.answerOptionToModelConverter=e=>{return{id:e.id,value:e.valueInteger||e.valueDate||e.valueTime||e.valueString,defaultSelected:e.initialSelected}},t.default=t.answerOptionToModelConverter},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=i(r(40));t.itemTypeFromModelConverter=e=>{switch(e){case n.GROUP:return s.GROUP;case n.DISPLAY:return s.DISPLAY;case n.BOOLEAN:return s.BOOLEAN;case n.ATTACHMENT:return s.ATTACHMENT;case n.CHOICE:return s.CHOICE;case n.DATE:return s.DATE;case n.DATE_TIME:return s.DATE_TIME;case n.DECIMAL:return s.DECIMAL;case n.OPEN_CHOICE:return s.OPEN_CHOICE;case n.STRING:return s.STRING;case n.TIME:return s.TIME;case n.TEXT:return s.TEXT;case n.MULTI_CHOICE:return s.CHOICE;default:return s.DISPLAY}},t.default=t.itemTypeFromModelConverter},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=i(r(45));t.enableBehaviorFromModelConverter=e=>{switch(e){case n.AND:return s.ALL;case n.OR:return s.ANY;default:return s.ALL}},t.default=t.enableBehaviorFromModelConverter},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(51));t.enableWhenFromModelConverter=e=>{return{id:e.id,question:e.questionId,answerString:e.answer,operator:n.default(e.operator)}},t.default=t.enableWhenFromModelConverter},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3)),s=i(r(43));t.operatorFromModelConverter=e=>{switch(e){case n.EXISTS:return s.EXISTS;case n.EQUAL:return s.EQUAL;case n.LESS:return s.LESS;case n.LESS_OR_EQUAL:return s.LESS_OR_EQUAL;case n.MORE:return s.MORE;case n.MORE_OR_EQUAL:return s.MORE_OR_EQUAL;case n.NOT_EQUAL:return s.NOT_EQUAL;default:return s.EQUAL}},t.default=t.operatorFromModelConverter},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.answerOptionFromModelConverter=e=>{return{id:e.id,valueString:e.value,initialSelected:e.defaultSelected}},t.default=t.answerOptionFromModelConverter},function(e,t,r){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(3));t.initialAnswerFromModelConverter=(e,t)=>{let r;switch(t){case n.TEXT:case n.STRING:r="valueString";break;case n.DECIMAL:r="valueDecimal";break;case n.BOOLEAN:r="valueBoolean";break;case n.TIME:r="valueTime";break;case n.DATE:r="valueDate";break;case n.DATE_TIME:r="valueDateTime";break;case n.ATTACHMENT:r="valueAttachment";break;default:r="valueString"}return{id:e.id,[r]:e.value}},t.default=t.initialAnswerFromModelConverter},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(7));t.answerToModelConverter=e=>{return{id:e.id,items:e.item&&e.item.map(e=>n.default.toModel(e)),value:e.valueBoolean||e.valueDecimal||e.valueInteger||e.valueDate||e.valueDateTime||e.valueTime||e.valueString}},t.default=t.answerToModelConverter},function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(7));t.answerFromModelConverter=e=>{return{id:e.id,valueString:e.value,item:e.items&&e.items.map(e=>n.default.fromModel(e))}},t.default=t.answerFromModelConverter},function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r(57)),i(r(67)),i(r(10)),i(r(7)),i(r(54)),i(r(47)),i(r(44)),i(r(41)),i(r(46)),i(r(39)),i(r(42)),i(r(55)),i(r(52)),i(r(49)),i(r(50)),i(r(53)),i(r(48)),i(r(51))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(10);t.questionnaireConverter={toModel:e=>({description:e.description,title:e.title,id:e.id,items:e.item&&e.item.map(e=>i.questionnaireItemConverter.toModel(e))}),fromModel:e=>({resourceType:"Questionnaire",id:e.id,description:e.description,title:e.title,item:e.items&&e.items.map(e=>i.questionnaireItemConverter.fromModel(e))})},t.default=t.questionnaireConverter},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);e.exports=function(){return r(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=r;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=Symbol("subscribe"),n=Symbol("emitChange"),s=Symbol("subscribers"),o=Symbol("notify"),a=Symbol("isMuted"),u=Symbol("mute"),l=Symbol("unmute"),c=Symbol("observableProperty");function d(e){return e&&"object"==typeof e&&i in e&&n in e&&s in e&&o in e&&u in e&&l in e&&a in e}function f(e){if(d(e))return{subscribe:e[i].bind(e),emitChange:e[n].bind(e),mute:e[u].bind(e),unmute:e[l].bind(e)}}function p(e){return function(e){if(d(e)||"object"==typeof e&&!Reflect.isExtensible(e))return;Reflect.defineProperty(e,a,{value:!1,writable:!0}),Reflect.defineProperty(e,s,{value:new Set,writable:!0}),Reflect.defineProperty(e,i,{value:function(e){return this[s].add(e),{dispose:()=>{this[s].delete(e)}}}}),Reflect.defineProperty(e,o,{value:function(e){setTimeout(()=>{e(this)})}}),Reflect.defineProperty(e,n,{value:function(){this[a]||this[s].forEach(this[o].bind(this))}}),Reflect.defineProperty(e,u,{value:function(){this[a]=!0}}),Reflect.defineProperty(e,l,{value:function(){this[a]=!1}})}(e),function(e){return new Proxy(e,h)}(e)}t.observable=function(e){return class extends e{constructor(...e){var t;return super(...e),t=this,Reflect.ownKeys(t).filter(e=>d(t[e])).forEach(e=>{f(t[e]).subscribe(()=>{const e=f(t);e&&e.emitChange()})}),p(this)}}},t.observableProperty=function(e,t){Reflect.defineProperty(e,t,{set(e){Reflect.defineProperty(this,t,{value:d(e)?e:p(e),enumerable:!0,writable:!0,configurable:!0})}}),Reflect.hasMetadata(c,e,t)||Reflect.defineMetadata(c,!0,e,t)},t.isObservable=d,t.getObservable=f,t.toObservable=p;const h={set(e,t,r){if(Reflect.getMetadata(c,e.__proto__,t))e[t]=d(r)?r:p(r),f(e[t]).subscribe(()=>{e[n]&&e[n]()});else{if(e[t]===r)return!0;if(Array.isArray(e)&&"length"===t)return e[t]=r,!0;e[t]=r}return(e=>e!==s&&e!==i&&e!==n&&e!==o&&e!==a&&e!==u&&e!==l)(t)&&e[n]&&e[n](),!0},deleteProperty:(e,t)=>Array.isArray(e)?(e.splice(+t,1),e[n]&&e[n](),!0):(delete e[t],e[n]&&e[n](),!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(r(4)),a=r(0),u=s(r(8));let l=class{constructor(e){this.itemIdMap=new Map,this.itemByTypeFactory=new u.default(this),this.id=e&&e.id||o.default(),this.description=e&&e.description,this.title=e&&e.title,this._completeItems(e),this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}_completeItems(e){e&&e.items?this.items=e.items.map(e=>this.itemByTypeFactory.createItem(e)):this.items=[]}updateQuestionnaire(e){const t=a.getObservable(this);t&&t.mute(),this.description=e.description,this.title=e.title,this.id=e.id,t&&t.unmute(),t&&t.emitChange()}addItem(e,t){this.itemIdMap.has(e.id)||(e.parent=this,t=void 0===t?this.items.length:t,this.items.splice(t,0,e),this.itemIdMap.set(e.id,!0))}removeItem(e){this.items.splice(e.position,1),this.itemIdMap.delete(e.id)}replaceItem(e,t){const r=e.position;this.items.splice(r,1,t),this.itemIdMap.delete(e.id),this.itemIdMap.set(t.id,!0)}};i([a.observableProperty,n("design:type",Array)],l.prototype,"items",void 0),l=i([a.observable,n("design:paramtypes",[Object])],l),t.Questionnaire=l,t.default=l},function(e,t,r){"use strict";var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(r(4)),a=r(0),u=s(r(32)),l=s(r(9));let c=class{constructor(e,t){this.answerCollection=new u.default,this.itemIdMap=new Map,this.id=t&&t.id||o.default(),this.questionnaireId=e.id,e.items?this.items=e.items.map(e=>{const r=t&&t.items&&t.items.find(t=>t.questionId===e.id);return l.default.createResponse(e,this.answerCollection,r)}):this.items=[],this.items.forEach(e=>this.itemIdMap.set(e.id,!0))}addQuestionnaireResponseItem(e){this.itemIdMap.has(e.id)||(e.answerCollection=this.answerCollection,this.items.push(e),this.itemIdMap.set(e.id,!0))}updateQuestionnaireResponse(e){this.id=e.id,this.questionnaireId=e.questionnaireId}};i([a.observableProperty,n("design:type",Array)],c.prototype,"items",void 0),c=i([a.observable,n("design:paramtypes",[Object,Object])],c),t.QuestionnaireResponse=c,t.default=c},function(e,t,r){var i,n;void 0===(n="function"==typeof(i=function(){"use strict";Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e={},t={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(t){return e.truthy(t)},"!":function(t){return!e.truthy(t)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var i=String(e).substr(t);return i.substr(0,i.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)+parseFloat(t,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(e,t){return parseFloat(e,10)*parseFloat(t,10)})},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(e,t){return e.concat(t)},[])},var:function(e,t){var r=void 0===t?null:t,i=this;if(void 0===e||""===e||null===e)return i;for(var n=String(e).split("."),s=0;s<n.length;s++){if(null===i)return r;if(void 0===(i=i[n[s]]))return r}return i},missing:function(){for(var t=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<r.length;i++){var n=r[i],s=e.apply({var:n},this);null!==s&&""!==s||t.push(n)}return t},missing_some:function(t,r){var i=e.apply({missing:r},this);return r.length-i.length>=t?[]:i},method:function(e,t,r){return e[t].apply(e,r)}};return e.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},e.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},e.get_operator=function(e){return Object.keys(e)[0]},e.get_values=function(t){return t[e.get_operator(t)]},e.apply=function(r,i){if(Array.isArray(r))return r.map(function(t){return e.apply(t,i)});if(!e.is_logic(r))return r;i=i||{};var n,s,o,a,u,l=e.get_operator(r),c=r[l];if(Array.isArray(c)||(c=[c]),"if"===l||"?:"==l){for(n=0;n<c.length-1;n+=2)if(e.truthy(e.apply(c[n],i)))return e.apply(c[n+1],i);return c.length===n+1?e.apply(c[n],i):null}if("and"===l){for(n=0;n<c.length;n+=1)if(s=e.apply(c[n],i),!e.truthy(s))return s;return s}if("or"===l){for(n=0;n<c.length;n+=1)if(s=e.apply(c[n],i),e.truthy(s))return s;return s}if("filter"===l)return a=e.apply(c[0],i),o=c[1],Array.isArray(a)?a.filter(function(t){return e.truthy(e.apply(o,t))}):[];if("map"===l)return a=e.apply(c[0],i),o=c[1],Array.isArray(a)?a.map(function(t){return e.apply(o,t)}):[];if("reduce"===l)return a=e.apply(c[0],i),o=c[1],u=void 0!==c[2]?c[2]:null,Array.isArray(a)?a.reduce(function(t,r){return e.apply(o,{current:r,accumulator:t})},u):u;if("all"===l){if(a=e.apply(c[0],i),o=c[1],!a.length)return!1;for(n=0;n<a.length;n+=1)if(!e.truthy(e.apply(o,a[n])))return!1;return!0}if("none"===l)return 0===e.apply({filter:c},i).length;if("some"===l)return e.apply({filter:c},i).length>0;if(c=c.map(function(t){return e.apply(t,i)}),"function"==typeof t[l])return t[l].apply(i,c);if(l.indexOf(".")>0){var d=String(l).split("."),f=t;for(n=0;n<d.length;n++)if(void 0===(f=f[d[n]]))throw new Error("Unrecognized operation "+l+" (failed at "+d.slice(0,n+1).join(".")+")");return f.apply(i,c)}throw new Error("Unrecognized operation "+l)},e.uses_data=function(t){var r=[];if(e.is_logic(t)){var i=e.get_operator(t),n=t[i];Array.isArray(n)||(n=[n]),"var"===i?r.push(n[0]):n.map(function(t){r.push.apply(r,e.uses_data(t))})}return function(e){for(var t=[],r=0,i=e.length;r<i;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(r)},e.add_operation=function(e,r){t[e]=r},e.rm_operation=function(e){delete t[e]},e.rule_like=function(t,r){if(r===t)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof t;if("string"===r)return"string"==typeof t;if("array"===r)return Array.isArray(t)&&!e.is_logic(t);if(e.is_logic(r)){if(e.is_logic(t)){var i=e.get_operator(r),n=e.get_operator(t);if("@"===i||i===n)return e.rule_like(e.get_values(t,!1),e.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(t)){if(r.length!==t.length)return!1;for(var s=0;s<r.length;s+=1)if(!e.rule_like(t[s],r[s]))return!1;return!0}return!1}return!1},e})?i.call(t,r,t,e):i)||(e.exports=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(13),n=/[ \r\n\t\S]+/,s=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?/,o=/true|false/,a=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?/,u=/([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?/,l=/([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?/,c=(e,t)=>t.test(""+e)||""===e||void 0===e?void 0:i.REG_EXP;t.validators={stringRegExp:e=>c(e,n),textRegExp:e=>c(e,n),decimalRegExp:e=>c(e,s),booleanRegExp:e=>c(e,o),dateRegExp:e=>c(e,a),timeRegExp:e=>c(e,u),dateTimeRegExp:e=>c(e,l),required:e=>(e=>void 0!==e&&""!==e?void 0:i.REQUIRED)(e)},t.default=t.validators},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachmentStrategy=(e,t,r)=>{const i=t.answers.find(t=>t.value===e);i?i.remove():t.questionItem.multipleFiles?t.addAnswer(r.createAnswer({value:e})):t.setSingleAnswer(r.createAnswer({value:e}))},t.default=t.attachmentStrategy},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7);t.questionnaireResponseConverter={toModel:e=>({id:e.id,questionnaireId:e.resourceType.slice(14),items:e.item.map(e=>i.questionnaireResponseItemConverter.toModel(e))}),fromModel:e=>({id:e.id,questionnaire:`Questionnaire/${e.questionnaireId}`,resourceType:"QuestionnaireResponse",item:e.items&&e.items.map(e=>i.questionnaireResponseItemConverter.fromModel(e))})},t.default=t.questionnaireResponseConverter}]);